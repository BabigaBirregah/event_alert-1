 <div id="list_event" class="row">
    <div class="panel panel-primary filterable">
        <div class="panel-heading">
            <h3 class="panel-title">Ev√©nements</h3>
            <div class="pull-right">
                <span class="btn btn-default btn-xs btn-filter"><span class="glyphicon glyphicon-filter"></span> Filter</span>
            </div>
        </div>
        <table class="table table-hover">
            <thead>
                <tr class="filters">
                    <th><input type="text" class="form-control" placeholder="Titre" disabled></th>
                    <th><input type="text" class="form-control" placeholder="Description" disabled></th>
                    <th><input type="text" class="form-control" placeholder="Date" disabled></th>
                    <th><input type="text" class="form-control" placeholder="Lieu" disabled></th>
                    <th>Type d'alerte</th>
                </tr>
            </thead>
            <tbody>
				<% for(var i=0; i<listEvent.length; i++) {%>
				   	<tr>
						<td><%- listEvent[i].title %></td>
						<td><%- listEvent[i].description %></td>
						<td><%=: listEvent[i].date | formatDate %></td>
						<td class="place"><%- listEvent[i].place %></td>
						<td>
							<ul>
								<% for(var j=0; j<listEvent[i].typesAlert.length; j++) {%>
									<li><%- listEvent[i].typesAlert[j].name %></li>
								<% } %>
							</ul>
						</td>
                    	<td><center><a href="/event/destroy/<%- listEvent[i].id %>">supprimer</a></center></td>
				   	</tr>
				<% } %>
            </tbody>
        </table>
    </div>
</div>
<script type="text/javascript">
    var geocoder;
    $(function(){
        geocoder = new google.maps.Geocoder();
        var coordinates = document.getElementsByClassName("place");

        for (var i=0; i<coordinates.length; i++) {
            coordinates[i].id = coordinates[i].innerHTML;
            retrieveAddress(coordinates[i], coordinates[i].innerHTML);
        }
    });

    function retrieveAddress(coordinate, input) {
        var latlngStr = input.split(";",2);
        var lat = parseFloat(latlngStr[0]);
        var lng = parseFloat(latlngStr[1]);
        var latlng = new google.maps.LatLng(lat, lng);
        geocoder.geocode({'latLng': latlng}, function(results, status) {
            if (status == google.maps.GeocoderStatus.OK && results[0]) {
                coordinate.innerHTML = results[0].formatted_address;
            } 
        });
    }
</script>